<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<link href="../../../css/bootstrap/bootstrap.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="../../../css/bootstrap/bootstrap-responsive.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="../../../css/swc.css" />
<link rel="stylesheet" type="text/css" href="../../../css/swc-bootstrap.css" />
<link rel="alternate" type="application/rss+xml" title="The Software Carpentry Blog" href="/feed.xml"/>
<meta http-equiv="last-modified" content="2014-02-10T02:27:43Z" />
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

    <title>Software Carpentry: Why This Stuff Is Hard To Teach</title>
  </head>
  <body>
    <header class="header">
      <div class="navbar transparent navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a href="../../../index.html" id="nav-logo" class="pull-left"></a>
      <div class="nav-collapse collapse pull-right span12">
        <ul class="nav pull-right">
          <li id="nav-bootcamps">
            <a href="../../../bootcamps/index.html">Bootcamps</a>
          </li>
          <li id="nav-lessons">
            <a href="../../../v4/index.html">Lessons</a>
          </li>
          <li id="nav-blog">
            <a href="../../../blog/index.html">Blog</a>
          </li>
          <li id="nav-faq">
            <a href="../../../faq.html">FAQ</a>
          </li>
          <li id="nav-about">
            <a href="../../../pages/index.html">About</a>
          </li>
          <form class="navbar-search" method="get" action="http://www.google.com/search">
            <input type="hidden" name="sitesearch" value="/Users/acabunoc/Projects/sc-site/_site" />
            <input name="q" type="text" class="search-query" placeholder="Search" />
          </form>
        </ul>
      </div>
    </div>
  </div>
</div>

    </header>
    <section id="title" class="content">
        <div class="container">
              <h1>Why This Stuff Is Hard To Teach</h1>
        </div>
    </section>
    <section class="content">
      <div class="container">
            <!-- start content -->
            <p>If we get funding to continue our work (we hope to find out in a month), one of the first things we want to do is put together an introduction to web programming for scientists. As I've remarked many times before, we won't try to teach people how to build web applications: all we can do in the time we have, starting from what they know, is teach them how to create security holes. What we <em>would</em> like to show them is how to pull data off the web and post data of their own for others to consume, but even that turns out to be a lot harder than it should be.</p>
<p>Here's one example. I want to parse a well-formed HTML page, change a few things in it, and save the result to disk. That ought to be simple, but if the document contains special characters like non-breaking spaces, Greek letters, and so on, it turns out to be rather tricky. In fact, it's taken a couple of hours (admittedly, spread out over several weeks) to come up with a solution that (a) works and (b) doesn't make me feel unclean. Here's what it looks like (using a string IO object instead of a file so that you can see what we're parsing):</p>
<pre>import cStringIO
import xml.etree.ElementTree as ET

ENTITIES = {
    'hellip' : u'\u2026',        # horizontal ellipsis
    'pi'     : u'\u03C0',        # lower-case Greek letter pi
    'sigma'  : u'\u03C3'         # lower-case Greek letter sigma
}

parser = ET.XMLParser()
parser.parser.UseForeignDTD(True)
parser.entity.update(ENTITIES)

text = '&lt;html&gt;&pi;...&sigma;&lt;/html&gt;'
original = cStringIO.StringIO(text)
tree = ET.parse(original, parser=parser)
print ET.tostring(tree.getroot())</pre>
<p>The output from this program is:</p>
<pre>&lt;html&gt;&amp;#960;&amp;#8230;&amp;#963;&lt;/html&gt;</pre>
<p>which, when loaded into a browser, is displayed as:</p>
<pre>&pi;...&sigma;</pre>
<p>The problem is the breadth of knowledge someone has to have to put this together. My code is based on a response to <a href="http://stackoverflow.com/questions/7237466/python-elementtree-support-for-parsing-unknown-xml-entities">this question</a> on Stack Overflow, but along the way, I looked at, played with, and discarded four other non-solutions. It doesn't help that ElementTree's <code>UseForeignDTD</code> is undocumented, but that's not my real complaint: every XML library I've ever worked with in Java, C++, or Python had brick walls of its own just waiting for people to bang their heads against.  I suspect it's going to take us several painful iterations to design an instructional sequence that works, and I'm not looking forward to the pain.</p>

            <p><em>Originally posted 2012-09-20 by Greg Wilson in Content, Education.</em></p>
            <!-- end content -->
            
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'software-carpentry';
    var disqus_developer = 1;
    var disqus_identifier = "";
    var disqus_title = '<p>Why This Stuff Is Hard To Teach</p>';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



      </div>
    </section>
    <footer class="content">
  <div class="container">
    <div class="links">
      <a href="mailto:admin@software-carpentry.org">Email</a>
      <a href="https://twitter.com/swcarpentry">Twitter</a>
      <a href="http://software-carpentry.org/feed.xml">RSS</a>
      <a href="https://github.com/swcarpentry">GitHub</a>
      <a href="irc://freenode/swcarpentry">IRC</a>
      <a href="https://www.facebook.com/SoftwareCarpentry">Facebook</a>
      <a href="https://plus.google.com/+Software-carpentryOrg" rel="publisher">Google+</a>
      <a href="../../../license.html">License</a>
      <a class="bugreport" href="mailto:admin@software-carpentry.org?subject=bug%20in%20blog/2012/09/why-this-stuff-is-hard-to-teach.html">Bug Report</a>
    </div>
  </div>
</footer>


    <!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../../js/jquery-1.9.1.min.js"></script>
<script src="../../../js/bootstrap/bootstrap.min.js"></script>

    <!-- Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37305346-1']);
  _gaq.push(['_setDomainName', 'software-carpentry.org']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
